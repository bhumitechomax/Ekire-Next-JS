{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/xampp/htdocs/next-project-EKIRE/src/app/login/page.jsx"],"sourcesContent":["\"use client\";\r\nimport React, { Fragment, useState, useEffect } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Cookies from \"js-cookie\";\r\nimport { signIn } from 'next-auth/react';\r\n\r\n\r\n\r\nfunction Login() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const router = useRouter();\r\n\r\n  const handleLogin = async (e) => {\r\n    console.log(email, password);\r\n    // e.preventDefault();\r\n\r\n    // Prepare the form data\r\n    const formData = {\r\n      email,\r\n      password,\r\n    };\r\n    // const handleSubmit = async (e) => {\r\n      e.preventDefault();\r\n     \r\n  \r\n      // const result = await signIn('credentials', {\r\n      //   redirect: false,\r\n      //   email,\r\n      //   password,\r\n      // });\r\n      // console.log(result , \"result\");\r\n      // if (result.ok) {\r\n      //   router.push('/'); // ðŸ” redirect after login\r\n      // } else {\r\n      //   setError('Invalid credentials');\r\n      // }\r\n    // };\r\n\r\n    try {\r\n      const res = await fetch(`${process.env.NEXT_PUBLIC_BACKEND_API_URL}/auth/login`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(formData),\r\n      });\r\n      console.log(formData);\r\n\r\n      const result = await res.json();\r\n      console.log(result);\r\n\r\n      if (res.ok && result.success) {\r\n        // Store access token and user data in localStorage\r\n        Cookies.set(\"accessToken\", result.data.accessToken, { expires: 7 }); // expires in 7 days\r\n        Cookies.set(\"user\", JSON.stringify(result.data.user), { expires: 7 });\r\n        Cookies.set(\"email\", result.data.user.email, { expires: 7 });\r\n        setSuccess(result.message || \"Login successful!\");\r\n\r\n        router.push(\"/\");\r\n\r\n        // Redirect to home page after successful login\r\n        // window.location.href = '/';\r\n      } else {\r\n        setError(result.message || \"Login failed, please try again.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error:\", error);\r\n      setError(\"Network error. Please try again.\");\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (error || success) {\r\n      const timer = setTimeout(() => {\r\n        setError(null);\r\n        setSuccess(null);\r\n      }, 10000); // Disable after 10 seconds\r\n\r\n      return () => clearTimeout(timer); // Clean up the timer if component is unmounted\r\n    }\r\n  }, [error, success]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"sign-in-bg\">\r\n        <video autoPlay muted loop className=\"sign-in-video-bg\">\r\n          <source src=\"/assets/images/video/two.mp4\" type=\"video/mp4\" />\r\n          Your browser does not support the video tag.\r\n        </video>\r\n\r\n        <div className=\"sign-in-overlay\"></div>\r\n\r\n        <div className=\"app-wrapper d-block position-relative z-index-1\">\r\n          <div className=\"main-container\">\r\n            {/* Body main section starts */}\r\n            <div className=\"container\">\r\n              <div className=\"row sign-in-content-bg\">\r\n                <div className=\"col-lg-6 image-contentbox d-none d-lg-block\">\r\n                  <div className=\"form-container \">\r\n                    <div className=\"signup-content mt-4\">\r\n                      <span>\r\n                        <img\r\n                          alt=\"\"\r\n                          className=\"img-fluid \"\r\n                          src=\"../assets/images/logo/1.png\"\r\n                        />\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"signup-bg-img p-5\">\r\n                      <img\r\n                        alt=\"\"\r\n                        className=\"img-fluid\"\r\n                        src=\"/assets/images/New/login.svg\"\r\n                        width={436}\r\n                        height={536}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-lg-6 form-contentbox\">\r\n                  <div className=\"form-container\">\r\n                    <form\r\n                      className=\"app-form rounded-control\"\r\n                      onSubmit={handleLogin}\r\n                    >\r\n                      {error && (\r\n                        <div className=\"alert alert-danger\">{error}</div>\r\n                      )}\r\n                      {success && (\r\n                        <div className=\"alert alert-success\">{success}</div>\r\n                      )}\r\n                      <div className=\"row\">\r\n                        <div className=\"col-12\">\r\n                          <div className=\"mb-5 text-center text-lg-start\">\r\n                            <h2 className=\"text-white f-w-600\">\r\n                              Welcome To axelit!{\" \"}\r\n                            </h2>\r\n                            <p>\r\n                              Sign in with your data that you enterd during your\r\n                              registration\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-12\">\r\n                          <div className=\"mb-3\">\r\n                            <label className=\"form-label\" htmlFor=\"email\">\r\n                              Email\r\n                            </label>\r\n                            <input\r\n                              className=\"form-control\"\r\n                              name=\"email\"\r\n                              value={email}\r\n                              onChange={(e) => setEmail(e.target.value)}\r\n                              id=\"email\"\r\n                              placeholder=\"Enter Your email\"\r\n                              type=\"email\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-12\">\r\n                          <div className=\"mb-3\">\r\n                            <label className=\"form-label\" htmlFor=\"password\">\r\n                              Password\r\n                            </label>\r\n                            <Link\r\n                              className=\"link-white float-end\"\r\n                              href=\"/forgot_pwd\"\r\n                            >\r\n                              Forgot Password ?\r\n                            </Link>\r\n                            <input\r\n                              className=\"form-control\"\r\n                              name=\"password\"\r\n                              value={password}\r\n                              onChange={(e) => setPassword(e.target.value)}\r\n                              id=\"password\"\r\n                              placeholder=\"Enter Your Password\"\r\n                              type=\"password\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-12\">\r\n                          <div className=\"form-check mb-3 d-flex align-items-center gap-2\">\r\n                            <input\r\n                              className=\"form-check-input\"\r\n                              id=\"checkDefault\"\r\n                              type=\"checkbox\"\r\n                              defaultValue\r\n                            />\r\n                            <label\r\n                              className=\"form-check-label text-white\"\r\n                              htmlFor=\"checkDefault\"\r\n                            >\r\n                              Remember me\r\n                            </label>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-12\">\r\n                          <div className=\"mb-3\">\r\n                            <button\r\n                              className=\"btn btn-light-white w-100\"\r\n                              type=\"submit\"\r\n                              role=\"button\"\r\n                            >\r\n                              Sign In\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-12\">\r\n                          <div className=\"text-center text-white text-lg-start\">\r\n                            Don't Have Your Account yet?{\" \"}\r\n                            <a\r\n                              className=\"link-white text-decoration-underline\"\r\n                              href=\"/signup \"\r\n                            >\r\n                              Sign up\r\n                            </a>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* Body main section ends */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n}\r\nexport default Login;\r\n"],"names":[],"mappings":"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","debugId":null}}]
}