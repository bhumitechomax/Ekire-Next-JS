{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/xampp/htdocs/next-project-EKIRE/src/app/server/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useRouter } from \"next/navigation\";\r\nimport React, { Fragment, useState, useEffect } from \"react\";\r\nimport Link from \"next/link\";\r\nimport Cookies from \"js-cookie\";\r\n\r\n\r\n\r\nfunction Server() {\r\n    const [servers, setServers] = useState([]);\r\n\r\n\r\n    const router = useRouter();\r\n\r\n    const handleRowClick = (slug) => {\r\n        router.push(`/server/${slug}`);\r\n    };\r\n\r\n    const handleCreateClick = () => {\r\n        router.push('/server/create');\r\n    };\r\n\r\n\r\n      useEffect(() => {\r\n        const token = Cookies.get(\"accessToken\");\r\n        if (token) {\r\n          // console.log(\"Token found:\", token);\r\n          const FetchServer = async () => {\r\n            console.log(`Bearer ${token}`);\r\n            setIsLoading(true);\r\n            try {\r\n              const response = await fetch(\r\n                `${process.env.NEXT_PUBLIC_BACKEND_API_URL}/customer/server/list`,\r\n                {\r\n                  method: \"POST\",\r\n                  headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    Authorization: `Bearer ${token}`, // Send the token\r\n                  },\r\n                }\r\n              );\r\n    \r\n              const result = await response.json();\r\n              const data = result.data;\r\n              console.log(data);\r\n              setServers(data.servers);\r\n            } catch (error) {\r\n              console.error(\"Error fetching cloud vps plan data:\", error);\r\n              setIsLoading(false);\r\n            }\r\n          };\r\n    \r\n          FetchServer();\r\n        }\r\n      }, []);\r\n\r\n    // auto load\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    useEffect(() => {\r\n        // Simulate loading\r\n        const timer = setTimeout(() => {\r\n            setIsLoading(false);\r\n        }, 900);\r\n        return () => clearTimeout(timer);\r\n    }, []);\r\n\r\n    // to load datatable\r\n    // useEffect(() => {\r\n    //     if (typeof window !== \"undefined\") {\r\n    //         const tables = $(\".datatable\").map(function () {\r\n    //             return $(this).DataTable();\r\n    //         });\r\n\r\n    //         return () => {\r\n    //             tables.each(function () {\r\n    //                 this.destroy();\r\n    //             });\r\n    //         };\r\n    //     }\r\n    // }, []);\r\n\r\n    return (\r\n        <Fragment>\r\n\r\n            <div className=\"position-relative\">\r\n                {/* Overlay loader */}\r\n                {isLoading && (\r\n                    <div\r\n                        className=\"d-flex justify-content-center align-items-center position-fixed top-0 start-0 w-100 h-100\"\r\n                        style={{\r\n                            background: 'var(--bodybg-color)',\r\n                            zIndex: 1000,\r\n                        }}\r\n                    >\r\n                        <div className=\"spinner-border text-primary\" role=\"status\">\r\n                            <span className=\"visually-hidden\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                <main className={`page-content  ${isLoading ? 'pointer-events-none' : ''}`} style={{ opacity: isLoading ? 0.5 : 1 }}>\r\n                    <div className=\"container-fluid\">\r\n                        {/* Breadcrumb start */}\r\n                        <div className=\"row m-1\">\r\n                            <div className=\"col-12 merge-title p-0\">\r\n                                <div>\r\n                                    <h4 className=\"main-title\">Servers</h4>\r\n                                </div>\r\n                                {/* <div className=\"text-end\">\r\n                                    <button className=\"btn btn-primary h-45 icon-btn m-2\" onClick={handleCreateClick} >\r\n                                        <i className=\"iconoir-open-new-window f-s-18\" />  Create New Server\r\n                                    </button>\r\n                                </div> */}\r\n                            </div>\r\n                        </div>\r\n                        {/* Breadcrumb end */}\r\n\r\n                        {/* Projects start */}\r\n                        <div className=\"row\">\r\n                            <div className=\"col-12\">\r\n\r\n                                <div className=\"content-wrapper\" id=\"card-container\">\r\n                                    <div className=\"card p-l-r-30\">\r\n                                        <div className=\"card-body p-0\">\r\n                                            <div className=\"app-datatable-default overflow-auto\">\r\n                                                <table className=\"datatable display app-data-table default-data-table\" id=\"example\">\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th width={10}>Sr no.</th>\r\n                                                            <th>server name</th>\r\n                                                            <th>status</th>\r\n                                                            <th>ip address</th>\r\n                                                            {/* <th>purchase date</th>\r\n                                                            <th>total paid</th> */}\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        {servers.map((server, index) => (\r\n                                                            <tr key={index} role=\"button\" onClick={() => handleRowClick(server.id)}>\r\n                                                                <td>{index + 1}</td>\r\n                                                                <td>{server.hostname}</td>\r\n                                                                <td>\r\n                                                                    {server.status == \"active\" ? (\r\n                                                                    <span className=\"badge bg-success-subtle text-success text-uppercase\">{server.status}</span>)\r\n                                                                    : (\r\n                                                                    <span className=\"badge bg-danger-subtle text-danger text-uppercase\">{server.status}</span>\r\n                                                                    )}\r\n                                                                </td>\r\n                                                                <td>{server.ip}</td>\r\n                                                                {/* <td>{server.purchase_date}</td>\r\n                                                                <td>${server.total_paid}</td> */}\r\n                                                            </tr>\r\n                                                        ))}\r\n\r\n                                                        {/* Example static row */}\r\n                                                        {/* <tr role=\"button\" onClick={() => handleRowClick('server-alpha')}>\r\n                                                            <td >1</td>\r\n                                                            <td>Server Alpha</td>\r\n                                                            <td><span className=\"badge bg-success-subtle text-success text-uppercase\">Running</span></td>\r\n                                                            <td>193.38.248.207</td>\r\n                                                            <td>Feb 22nd, 2024</td>\r\n                                                            <td>$10</td>\r\n                                                        </tr>  */}\r\n                                                        {/* <tr>\r\n                                                            <td>2</td>\r\n                                                            <td>Server Beta</td>\r\n                                                            <td><span className=\"badge bg-success-subtle text-success text-uppercase\">Running</span></td>\r\n                                                            <td>192.168.0.101</td>\r\n                                                            <td>Feb 22nd, 2024</td>\r\n                                                            <td>$10</td>\r\n                                                        </tr> */}\r\n                                                    </tbody>\r\n                                                </table>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        {/* Projects end */}\r\n\r\n\r\n                    </div>\r\n\r\n                </main>\r\n                {/* modal 1 */}\r\n                <div aria-hidden=\"true\" aria-labelledby=\"projectCardLabel\" className=\"modal fade\" id=\"projectCard1\" tabIndex={-1}>\r\n                    <div className=\"modal-dialog\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <div className=\"d-flex align-items-center gap-2\">\r\n                                    <h1 className=\"modal-title fs-5\" id=\"projectCardLabel\">Add SSH Key </h1>\r\n                                    <iconify-icon icon=\"line-md:plus-circle\" className=\"animeted-plus-circle f-s-22\" />\r\n                                </div>\r\n\r\n                                <button aria-label=\"Close\" className=\"btn-close\" data-bs-dismiss=\"modal\" type=\"button\" />\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                <form className=\"app-form rounded-control  row g-3\">\r\n                                    <div className=\"col-12\">\r\n                                        <label className=\"form-label\" htmlFor=\"validationDefault01\">Name</label>\r\n                                        <input className=\"form-control\" id=\"validationDefault01\" type=\"text\" placeholder=\"Enter SSH Key Name\" required />\r\n                                    </div>\r\n                                    <div className=\"col-12\">\r\n                                        <label className=\"form-label\" htmlFor=\"validationDefault02\">SSH Key</label>\r\n                                        <textarea className=\"form-control\" id=\"validationDefault02\" type=\"text\" placeholder=\"Enter SSH Key Value\" required />\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                            <div className=\"modal-footer\">\r\n                                <button className=\"btn btn-secondary\" data-bs-dismiss=\"modal\" type=\"button\">Cancel</button>\r\n                                <button className=\"btn btn-primary\" id=\"addCard\" type=\"button\">Submit</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    );\r\n}\r\nexport default Server;\r\n"],"names":[],"mappings":"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","debugId":null}}]
}